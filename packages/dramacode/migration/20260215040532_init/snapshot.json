{
  "version": "7",
  "dialect": "sqlite",
  "id": "92714245-0bdf-46d9-bb6b-10e99b8a6b50",
  "prevIds": [
    "00000000-0000-0000-0000-000000000000"
  ],
  "ddl": [
    {
      "name": "character",
      "entityType": "tables"
    },
    {
      "name": "drama",
      "entityType": "tables"
    },
    {
      "name": "episode",
      "entityType": "tables"
    },
    {
      "name": "plot_point",
      "entityType": "tables"
    },
    {
      "name": "scene_character",
      "entityType": "tables"
    },
    {
      "name": "scene",
      "entityType": "tables"
    },
    {
      "name": "world",
      "entityType": "tables"
    },
    {
      "name": "message",
      "entityType": "tables"
    },
    {
      "name": "session",
      "entityType": "tables"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "drama_id",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "name",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "role",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "age",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "occupation",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "personality",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "backstory",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "arc",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "relationships",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_created",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_updated",
      "entityType": "columns",
      "table": "character"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "entityType": "columns",
      "table": "drama"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "title",
      "entityType": "columns",
      "table": "drama"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "logline",
      "entityType": "columns",
      "table": "drama"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "genre",
      "entityType": "columns",
      "table": "drama"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "setting",
      "entityType": "columns",
      "table": "drama"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "tone",
      "entityType": "columns",
      "table": "drama"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "total_episodes",
      "entityType": "columns",
      "table": "drama"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_created",
      "entityType": "columns",
      "table": "drama"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_updated",
      "entityType": "columns",
      "table": "drama"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "entityType": "columns",
      "table": "episode"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "drama_id",
      "entityType": "columns",
      "table": "episode"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "number",
      "entityType": "columns",
      "table": "episode"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "title",
      "entityType": "columns",
      "table": "episode"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "synopsis",
      "entityType": "columns",
      "table": "episode"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": "'draft'",
      "generated": null,
      "name": "status",
      "entityType": "columns",
      "table": "episode"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_created",
      "entityType": "columns",
      "table": "episode"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_updated",
      "entityType": "columns",
      "table": "episode"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "entityType": "columns",
      "table": "plot_point"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "drama_id",
      "entityType": "columns",
      "table": "plot_point"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "episode_id",
      "entityType": "columns",
      "table": "plot_point"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "type",
      "entityType": "columns",
      "table": "plot_point"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "description",
      "entityType": "columns",
      "table": "plot_point"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": false,
      "default": "false",
      "generated": null,
      "name": "resolved",
      "entityType": "columns",
      "table": "plot_point"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "resolved_episode_id",
      "entityType": "columns",
      "table": "plot_point"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_created",
      "entityType": "columns",
      "table": "plot_point"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_updated",
      "entityType": "columns",
      "table": "plot_point"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "scene_id",
      "entityType": "columns",
      "table": "scene_character"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "character_id",
      "entityType": "columns",
      "table": "scene_character"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_created",
      "entityType": "columns",
      "table": "scene_character"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_updated",
      "entityType": "columns",
      "table": "scene_character"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "entityType": "columns",
      "table": "scene"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "episode_id",
      "entityType": "columns",
      "table": "scene"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "number",
      "entityType": "columns",
      "table": "scene"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "location",
      "entityType": "columns",
      "table": "scene"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_of_day",
      "entityType": "columns",
      "table": "scene"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "description",
      "entityType": "columns",
      "table": "scene"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "dialogue",
      "entityType": "columns",
      "table": "scene"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "notes",
      "entityType": "columns",
      "table": "scene"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_created",
      "entityType": "columns",
      "table": "scene"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_updated",
      "entityType": "columns",
      "table": "scene"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "entityType": "columns",
      "table": "world"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "drama_id",
      "entityType": "columns",
      "table": "world"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "category",
      "entityType": "columns",
      "table": "world"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "name",
      "entityType": "columns",
      "table": "world"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "description",
      "entityType": "columns",
      "table": "world"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_created",
      "entityType": "columns",
      "table": "world"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_updated",
      "entityType": "columns",
      "table": "world"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "entityType": "columns",
      "table": "message"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "session_id",
      "entityType": "columns",
      "table": "message"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "role",
      "entityType": "columns",
      "table": "message"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "content",
      "entityType": "columns",
      "table": "message"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_created",
      "entityType": "columns",
      "table": "message"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_updated",
      "entityType": "columns",
      "table": "message"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "entityType": "columns",
      "table": "session"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "title",
      "entityType": "columns",
      "table": "session"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "drama_id",
      "entityType": "columns",
      "table": "session"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_created",
      "entityType": "columns",
      "table": "session"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "time_updated",
      "entityType": "columns",
      "table": "session"
    },
    {
      "columns": [
        "drama_id"
      ],
      "tableTo": "drama",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "nameExplicit": false,
      "name": "fk_character_drama_id_drama_id_fk",
      "entityType": "fks",
      "table": "character"
    },
    {
      "columns": [
        "drama_id"
      ],
      "tableTo": "drama",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "nameExplicit": false,
      "name": "fk_episode_drama_id_drama_id_fk",
      "entityType": "fks",
      "table": "episode"
    },
    {
      "columns": [
        "drama_id"
      ],
      "tableTo": "drama",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "nameExplicit": false,
      "name": "fk_plot_point_drama_id_drama_id_fk",
      "entityType": "fks",
      "table": "plot_point"
    },
    {
      "columns": [
        "episode_id"
      ],
      "tableTo": "episode",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "SET NULL",
      "nameExplicit": false,
      "name": "fk_plot_point_episode_id_episode_id_fk",
      "entityType": "fks",
      "table": "plot_point"
    },
    {
      "columns": [
        "resolved_episode_id"
      ],
      "tableTo": "episode",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "SET NULL",
      "nameExplicit": false,
      "name": "fk_plot_point_resolved_episode_id_episode_id_fk",
      "entityType": "fks",
      "table": "plot_point"
    },
    {
      "columns": [
        "scene_id"
      ],
      "tableTo": "scene",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "nameExplicit": false,
      "name": "fk_scene_character_scene_id_scene_id_fk",
      "entityType": "fks",
      "table": "scene_character"
    },
    {
      "columns": [
        "character_id"
      ],
      "tableTo": "character",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "nameExplicit": false,
      "name": "fk_scene_character_character_id_character_id_fk",
      "entityType": "fks",
      "table": "scene_character"
    },
    {
      "columns": [
        "episode_id"
      ],
      "tableTo": "episode",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "nameExplicit": false,
      "name": "fk_scene_episode_id_episode_id_fk",
      "entityType": "fks",
      "table": "scene"
    },
    {
      "columns": [
        "drama_id"
      ],
      "tableTo": "drama",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "nameExplicit": false,
      "name": "fk_world_drama_id_drama_id_fk",
      "entityType": "fks",
      "table": "world"
    },
    {
      "columns": [
        "session_id"
      ],
      "tableTo": "session",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "nameExplicit": false,
      "name": "fk_message_session_id_session_id_fk",
      "entityType": "fks",
      "table": "message"
    },
    {
      "columns": [
        "scene_id",
        "character_id"
      ],
      "nameExplicit": false,
      "name": "scene_character_pk",
      "entityType": "pks",
      "table": "scene_character"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "character_pk",
      "table": "character",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "drama_pk",
      "table": "drama",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "episode_pk",
      "table": "episode",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "plot_point_pk",
      "table": "plot_point",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "scene_pk",
      "table": "scene",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "world_pk",
      "table": "world",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "message_pk",
      "table": "message",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "session_pk",
      "table": "session",
      "entityType": "pks"
    },
    {
      "columns": [
        {
          "value": "drama_id",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "character_drama_idx",
      "entityType": "indexes",
      "table": "character"
    },
    {
      "columns": [
        {
          "value": "drama_id",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "episode_drama_idx",
      "entityType": "indexes",
      "table": "episode"
    },
    {
      "columns": [
        {
          "value": "drama_id",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "plot_point_drama_idx",
      "entityType": "indexes",
      "table": "plot_point"
    },
    {
      "columns": [
        {
          "value": "episode_id",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "plot_point_episode_idx",
      "entityType": "indexes",
      "table": "plot_point"
    },
    {
      "columns": [
        {
          "value": "scene_id",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "scene_character_scene_idx",
      "entityType": "indexes",
      "table": "scene_character"
    },
    {
      "columns": [
        {
          "value": "character_id",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "scene_character_character_idx",
      "entityType": "indexes",
      "table": "scene_character"
    },
    {
      "columns": [
        {
          "value": "episode_id",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "scene_episode_idx",
      "entityType": "indexes",
      "table": "scene"
    },
    {
      "columns": [
        {
          "value": "drama_id",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "world_drama_idx",
      "entityType": "indexes",
      "table": "world"
    },
    {
      "columns": [
        {
          "value": "session_id",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "message_session_idx",
      "entityType": "indexes",
      "table": "message"
    },
    {
      "columns": [
        {
          "value": "drama_id",
          "isExpression": false
        }
      ],
      "isUnique": false,
      "where": null,
      "origin": "manual",
      "name": "session_drama_idx",
      "entityType": "indexes",
      "table": "session"
    }
  ],
  "renames": []
}